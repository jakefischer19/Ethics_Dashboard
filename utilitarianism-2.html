<!DOCTYPE html>
<!--home.html may be renamed to dashboard, and dashboard.html renamed to home-->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script src="//code.jquery.com/jquery.min.js"></script>
    <link rel="stylesheet" href="style.css" />
    <title>Ethics Dashboard</title>

    <script>
      var hook = true;
      window.onbeforeunload = function () {
        if (hook) {
          return "Did you save your stuff?";
        }
      };
      function unhook() {
        hook = false;
      }
       var st1 = "";
      var st2 = "";
      var st3 = "";
      var st4 = "";
      var st5 = "";
      var st6 = "";

      var send1 = "";
      var send2 = "";
      var send3 = "";
      var send4 = "";
      var send5 = "";
      var send6 = "";

      var sendCounter = 0;

      var counter = 3;
      var opt_counter = 0;
      
     
      $(document).ready(function () {
        $(".dropdown").hover(function () {
        var dropdownMenu = $(this).children(".dropdown-menu");
        if (dropdownMenu.is(":visible")) {
          dropdownMenu.parent().toggleClass("open");
        }
      });
    });
        document.getElementById("Remove").disabled = true;
        document.getElementById("Remove").style.background = "grey";
        $("#Add").on("click", function () {
          counter++;
          $("#textboxDiv").append(
            "<div class='row p-2'><div class='col-lg p-2'><h4 class='pb-2'>STAKEHOLDER " +
              counter +
              "</h4><textarea name = 'stakeholder-" + counter + "'id = 'stakeholder-" + counter +
              "'cols=10 rows=7 placeholder='Enter the Stakeholder here' class='stakeholder-input' onchange='getStakeholderTitle()'></textarea></div></div>" +
              "<label for='stakeholder" +
              counter +
              "' class='form-label stakeholder-input'>Importance:</label><input type='range' class='form-range' id='stakeholder" +
              counter +
              "' /><br><br>" 
            
          );

          if (counter > 5) {
            document.getElementById("Add").disabled = true;
            document.getElementById("Add").style.background = "grey";
          }

          if (counter >= 4) {
            document.getElementById("Remove").disabled = false;
            document.getElementById("Remove").style.background = "black";
          }
        });
        $("#Remove").on("click", function () {
          counter--;
          $("#textboxDiv").children().last().remove();
          if (counter < 6) {
            document.getElementById("Add").disabled = false;
            document.getElementById("Add").style.background = "black";
          }

          if (counter <= 3) {
            document.getElementById("Remove").disabled = true;
            document.getElementById("Remove").style.background = "grey";
          }
        });
        opt_counter = localStorage.getItem("opt_counter");
        if (opt_counter < 3) {
          document.getElementById("util-3rd-option").style.display = "none";
        
        }
      

      function getStakeholder1Title() {
        st1 = document.getElementById("stakeholder-1").value;
      }
      function getStakeholder2Title() {
        st2 = document.getElementById("stakeholder-2").value;
      }
      function getStakeholder3Title() {
        st3 = document.getElementById("stakeholder-3").value;
      }
      function getStakeholderTitle() {
        st4 = document.getElementById("stakeholder-4").value;
        st5 = document.getElementById("stakeholder-5").value;
        st6 = document.getElementById("stakeholder-6").value;
      }
     
      function sendStakeholders()
      {
        send1 = st1;
        send2 = st2;
        send3 = st3;
        send4 = st4;
        send5 = st5;
        send6 = st6;
        sendCounter = counter;

        localStorage.setItem("stake-1-value", send1);
        localStorage.setItem("stake-2-value", send2);
        localStorage.setItem("stake-3-value", send3);
        localStorage.setItem("stake-4-value", send4);
        localStorage.setItem("stake-5-value", send5);
        localStorage.setItem("stake-6-value", send6);
        localStorage.setItem("counter-val",sendCounter);

        
      }

      function sendStakeholders2()
      {
        send1 = st1;
        send2 = st2;
        send3 = st3;
        send4 = st4;
        send5 = st5;
        send6 = st6;

        localStorage.setItem("stake-1-value", send1);
        localStorage.setItem("stake-2-value", send2);
        localStorage.setItem("stake-3-value", send3);
        localStorage.setItem("stake-4-value", send4);
        localStorage.setItem("stake-5-value", send5);
        localStorage.setItem("stake-6-value", send6);
        localStorage.setItem("counter-val",sendCounter);

        
      }

      
      function sendStakeholders3()
      {
        send1 = st1;
        send2 = st2;
        send3 = st3;
        send4 = st4;
        send5 = st5;
        send6 = st6;

        localStorage.setItem("stake-1-value", send1);
        localStorage.setItem("stake-2-value", send2);
        localStorage.setItem("stake-3-value", send3);
        localStorage.setItem("stake-4-value", send4);
        localStorage.setItem("stake-5-value", send5);
        localStorage.setItem("stake-6-value", send6);
        localStorage.setItem("counter-val",sendCounter);

        
      }
    </script>
  </head>
  <body>
    <!-- Load Header -->
    <div id="header">
      <script>
        $(function () {
          $("#header").load("header.html");
        });
      </script>
    </div>

    <div class="container-fluid">
      <div class="card">
        <div class="card-body">
          <p style="font-size: 18px">
           <h5 class="pb-2">
              Stakeholders are persons or groups that will be impacted by the
              decision/action taken. List the stakeholders and what they want in
              the simplest terms – wealth, social status, etc. Note: It’s good
              to start with the decision-maker as the first stakeholder and then
              work out from there.
           </h5>
          </p>
          <hr />
          <div class="row p-2">
            <div class="col-lg p-2">
              <h4 class="pb-2">STAKEHOLDER 1 - 
                <span class="stakeholder1-title" style="color: grey"
                      >Stakeholder 1 displays here</span
                    >
              </h4>
              <textarea
                name="stakeholder-1"
                id="stakeholder-1"
                cols="10"
                rows="7"
                placeholder="The engineer asked to design the VW defeat device."
                class="stakeholder-input"
                onchange = "getStakeholder1Title()"
                disabled
              ></textarea>
            </div>
          </div>

          <label for="stakeholder1" class="form-label stakeholder-input">Importance:</label>
          <input type="range" class="form-range" id="stakeholder1" />
          <br><br>



          <div class="row p-2">
            <div class="col-lg p-2">
              <h4 class="pb-2">STAKEHOLDER 2- 
                <span class="stakeholder2-title" style="color: grey"
                      >Stakeholder 2 displays here</span
                    ></h4>
              <textarea
                name="stakeholder-2"
                id="stakeholder-2"
                cols="10"
                rows="7"
                placeholder="The decision makers at VW who asked the engineer to create the device"
                class="stakeholder-input"
                onchange = "getStakeholder2Title()"
                disabled
              ></textarea>
            </div>
          </div>

          <label for="stakeholder2" class="form-label stakeholder-input">Importance:</label>

          <input type="range" class="form-range" id="stakeholder2" />

       <br><br>
          <div class="row p-2">
            <div class="col-lg p-2">
              <h4 class="pb-2">STAKEHOLDER 3- 
                <span class="stakeholder3-title" style="color: grey"
                      >Stakeholder 3 displays here</span
                    ></h4>
              <textarea
                name="stakeholder-3"
                id="stakeholder-3"
                cols="10"
                rows="7"
                placeholder="Consumers - vehicle buyers"
                class="stakeholder-input"
                onchange = "getStakeholder3Title()"
                disabled
              ></textarea>        
            </div>
          </div>

          <label for="stakeholder3" class="form-label stakeholder-input">Importance:</label>
          <input type="range" class="form-range" id="stakeholder3" />
          <br><br>
  
          <div id="textboxDiv"></div>
          <div class="btns">
      <!--      <button id="Add" class="stakeholders-btn ms-1">
              Click to add stakeholder
            </button>
            <button id="Remove" class="stakeholders-btn ms-2 mt-3">
              Click to remove stakeholder
            </button>
-->
            <input
              type="submit"
              value="Save"
              id="util-2-submit"
              name="util-2-submit"
              class="stakeholders-btn ms-2 mt-3"
              onclick="sendStakeholders();sendStakeholders2();sendStakeholders3();unhook()"
            />
          </div>
        </div>
      </div>
    </div>
    <br />
    <ul class="pagination justify-content-center">
      <li class="page-item">
        <a class="page-link" href="utilitarianism.html" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
          <span class="sr-only">Previous</span>
        </a>
      </li>
      <li class="page-item">
        <a class="page-link" href="utilitarianism.html">1</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="utilitarianism-2.html">2</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="utilitarianism-3.html">3</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="utilitarianism-4.html">4</a>
      </li>
   <!--   <li class="page-item" id="util-3rd-option">
        <a class="page-link" href="utilitarianism-3rd-option.html">3rd-option</a>
      </li>-->
      <li class="page-item">
        <a class="page-link" href="utilitarianism-5.html">5</a>
      </li>
     

      <li class="page-item">
        <a class="page-link" href="utilitarianism-3.html" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
          <span class="sr-only">Next</span>
        </a>
      </li>
    </ul>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
      integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
      crossorigin="anonymous"
    ></script>
  </body>
</html>